# 用户表结构设计
使用两个表users,user_auths来保存用户信息;
## 用户基础信息表(users)
基本字段：id,nick_name,avatar；

用户基础信息表不保存任何密码，不保存任何登录信息（如用户名，手机号，邮箱），只留有昵称，头像等基础信息。
所有和授权相关（且基本前端展现无关的），都放在用户信息授权表，用户基础信息表和用户授权表是一对多的关系。

## 用户授权表(user_auths)
所有和授权相关（且基本前端展现无关的），都放在用户信息授权表
用户可以使用站内注册的帐号进行登录，也可以使用QQ、微信等第三方帐号登录；
### 使用第三方帐号登录
1.在本站已有账号，使用第三方登录，则提示绑定已有账号，
如果不绑定，则自动生成一个账号记录插入用户基础信息表，和一条授权记录插入授权表，后续可以进行绑定；
如果绑定，则只需在用户授权表新则一条记录，无需在用户基础信息表插入记录；


2.在本站没有帐号，自动生成一个帐号，可以补充用户信息，生成用户账号；

3.后续绑定，需根据具体需求进行数据合并；

4.解绑
可以解除QQ,微信登录的绑定；


# 表结构
## 用户授权表(user_auths)
| 字段中文名 |字段英文名 | 属性 | 注释 | 是否主键 |
|---|---|---|---|---|
|id|id|varchar(32)|UUID|Y|
|用户id|user_id|varchar(32)|用户ID|N|  
|登录类型|identify_type|varchar(10) |登录类型：手机号，邮箱，用户名，微信，微博，QQ|N|
|用户标识|identifier|varchar(100)|标识（手机号 邮箱 用户名或第三方应用的唯一标识）|N|
|密码凭证|credential|varchar(32)|密码凭证（站内的保存密码，站外的不保存或保存token）|N|
|是否验证|verified|int|是否验证，例如，手机号是否验证，邮箱是否验证；0未验证，1已验证|N|
|最后登录IP|last_id|varchar(30)|最后登录IP|N|
|最后登录时间|last_time|varchar(30)|最后登录时间|N|


## 用户基础信息表(users)
| 字段中文名 |字段英文名 | 属性 | 注释 | 是否主键 |
|---|---|---|---|---|
|id|id|varchar(32)|唯一UUID|Y|
|昵称|nick_name|varchar(50)|昵称|N|
|头像|avatar|varchar(150)|头像地址|N|
|性别|gender|int|性别 1 male,2 female|N|
|年龄|age|int|年龄|N|





